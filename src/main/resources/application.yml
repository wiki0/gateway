spring:
  application:
    name: gateway-server
  cloud:
    consul:
      host: localhost
      port: 8500
    gateway:
      default-filters:
      routes:
      - id: xujin_route
        uri: http://www.baidu.com:80/
        predicates:
        - Path=/xujin
      - id: provider
        uri: lb://provider
        order: 8000
        predicates:
        - Path=/api/provider/**
        filters:
        - StripPrefix=2
        - name: RequestRateLimiter
          args:
            redis-rate-limiter.replenishRate: 5
            redis-rate-limiter.burstCapacity: 10
            key-resolver: "#{@addressKeyResolver}"
management:
  endpoints:
    web:
      exposure:
        include: "*"
  zipkin:
    base-url: http://localhost:9411/
  sleuth:
    sampler:
      probability: 1
  redis:
    host: 127.0.0.1
    port: 6379
server:
  port: 9000
#logging:
#  level:
#    org.springframework.cloud.gateway: debug
hystrix:
  command:
    fallbackcmd:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 5000